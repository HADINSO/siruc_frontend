<div class="min-h-screen flex items-center justify-center p-4" style="background: conic-gradient(at left center, rgb(225, 225, 225), rgb(55, 156, 92));">
  <div class="w-full max-w-6xl grid md:grid-cols-2 gap-0 bg-white rounded-2xl overflow-hidden shadow-2xl">
    
    <!-- Sección izquierda - Imagen del campus -->
    <div class="hidden md:block relative">
      <img 
        src="https://academico.utch.edu.co/utch/hermesoft/vortal/assets/images/login/descarga.jpg" 
        alt="Campus Universidad Tecnológica del Chocó"
        class="w-full h-full object-cover"
      />
      <!-- Overlay con texto -->
      <div class="absolute top-6 left-6 text-white font-semibold text-sm bg-black/30 px-4 py-2 rounded-lg backdrop-blur-sm">
        Campus Universidad Tecnológica del Chocó
      </div>
      <!-- Overlay sutil para mejorar contraste -->
      <div class="absolute inset-0 bg-gradient-to-br from-emerald-600/10 to-emerald-900/10"></div>
    </div>
    
    <!-- Sección derecha - Formulario -->
    <div class="bg-white p-16 flex flex-col justify-center">
      <div class="w-full max-w-md mx-auto">
        
        <div class="mb-10">
          <!-- Logo de la Universidad -->
          <div class="flex items-center justify-center mb-8">
            <img 
              src="https://academico.utch.edu.co/utch/hermesoft/vortal/assets/images/logo/header.jpg" 
              alt="Universidad Tecnológica del Chocó - Diego Luis Córdoba"
              class="h-16 w-auto"
            />
          </div>
          
          <h1 class="text-3xl font-bold text-gray-900 text-center mb-2">Recuperar Acceso</h1>
          <p class="text-gray-500 text-center text-sm">Ingresa tu correo y selecciona qué deseas recuperar</p>
        </div>
        
        <form class="space-y-5">
          <div>
            <label for="correo" class="block text-gray-700 text-sm font-medium mb-2">Correo Electrónico</label>
            <input
              type="email"
              id="correo"
              [(ngModel)]="correo"
              name="correo"
              [class.border-red-500]="intentoEnvio && (!emailValido || usuarioNoEncontrado)"
              [class.focus:ring-red-500]="intentoEnvio && (!emailValido || usuarioNoEncontrado)"
              class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200"
              placeholder="ejemplo@utch.edu.co"
            />
            
            <!-- Mensaje de error elegante - SOLO DESPUÉS DEL INTENTO DE ENVÍO -->
            <div 
              *ngIf="intentoEnvio && mensajeError"
              class="mt-3 p-4 rounded-lg flex items-start gap-3 animate-slideDown bg-red-50 border border-red-200"
            >
              <!-- Icono de error -->
              <svg 
                xmlns="http://www.w3.org/2000/svg" 
                class="h-5 w-5 text-red-500 flex-shrink-0 mt-0.5" 
                fill="none" 
                viewBox="0 0 24 24" 
                stroke="currentColor"
              >
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>

              <!-- Mensaje de texto -->
              <div>
                <p class="text-sm font-medium text-red-700">
                  {{ mensajeError }}
                </p>
              </div>
            </div>
          </div>
          
          <div>
            <label class="block text-gray-700 text-sm font-medium mb-3">¿Qué deseas recuperar?</label>
            <div class="flex gap-4">
              <label class="flex items-center cursor-pointer">
                <input
                  type="radio"
                  name="tipo"
                  value="usuario"
                  [(ngModel)]="tipoRecuperacion"
                  class="w-4 h-4 text-emerald-600 focus:ring-emerald-500"
                />
                <span class="ml-2 text-gray-900">Usuario</span>
              </label>
              
              <label class="flex items-center cursor-pointer">
                <input
                  type="radio"
                  name="tipo"
                  value="contrasena"
                  [(ngModel)]="tipoRecuperacion"
                  class="w-4 h-4 text-emerald-600 focus:ring-emerald-500"
                />
                <span class="ml-2 text-gray-900">Contraseña</span>
              </label>
            </div>
          </div>
          
          <!-- BOTÓN - HABILITADO SI HAY TEXTO EN EL CORREO -->
          <button
            type="button"
            (click)="enviarSolicitud()"
            [disabled]="!botonHabilitado"
            [ngClass]="{
              'bg-emerald-600 hover:bg-emerald-700 shadow-lg shadow-emerald-600/30 cursor-pointer': botonHabilitado,
              'bg-gray-400 cursor-not-allowed opacity-50': !botonHabilitado
            }"
            class="w-full py-3 text-white rounded-lg font-medium focus:outline-none focus:ring-4 focus:ring-emerald-300 transition-all duration-200"
          >
            Enviar Solicitud
          </button>
          
          <div class="text-center pt-2">
            <a routerLink="/login" class="text-gray-1000 text-sm font-medium hover:text-gray-700 transition-colors duration-200">
              Volver al inicio de sesión
            </a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- ✅ MODAL DE ÉXITO - Cuando se recupera correctamente -->
<div 
  *ngIf="mostrarModalExito"
  class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"
  (click)="cerrarModalExito()"
>
  <!-- Modal Container -->
  <div 
    class="bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden z-51 animate-slideUp"
    (click)="$event.stopPropagation()"
  >
    <!-- Contenido -->
    <div class="p-8 text-center">
      <!-- Icono de éxito -->
      <div class="mb-6 flex justify-center">
        <div class="relative w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-600 rounded-full flex items-center justify-center animate-bounce">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
          </svg>
        </div>
      </div>

      <!-- Título -->
      <h2 class="text-2xl font-bold text-gray-900 mb-2">
        {{ tipoRecuperacionEnviado === 'usuario' ? '¡Usuario Enviado!' : '¡Solicitud Enviada!' }}
      </h2>

      <!-- Descripción -->
      <p class="text-gray-600 mb-6 text-sm leading-relaxed">
        {{ mensajeExito }}
      </p>

      <!-- Icono del tipo de recuperación -->
      <div class="mb-6 p-4 bg-emerald-50 rounded-lg border border-emerald-200">
        <div class="flex items-center justify-center gap-2">
          <svg 
            *ngIf="tipoRecuperacionEnviado === 'usuario'"
            xmlns="http://www.w3.org/2000/svg" 
            class="h-5 w-5 text-emerald-600" 
            fill="none" 
            viewBox="0 0 24 24" 
            stroke="currentColor"
          >
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
          </svg>
          <svg 
            *ngIf="tipoRecuperacionEnviado === 'contrasena'"
            xmlns="http://www.w3.org/2000/svg" 
            class="h-5 w-5 text-emerald-600" 
            fill="none" 
            viewBox="0 0 24 24" 
            stroke="currentColor"
          >
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
          </svg>
          <span class="text-sm font-medium text-emerald-700">
            {{ tipoRecuperacionEnviado === 'usuario' ? 'Recuperar Usuario' : 'Recuperar Contraseña' }}
          </span>
        </div>
      </div>

      <!-- Aviso -->
      <p class="text-xs text-gray-500 mb-6">
        Si no ves el correo en los próximos minutos, revisa tu carpeta de spam.
      </p>

      <!-- Botones -->
      <div class="flex gap-3">
        <!-- Botón Entendido -->
        <button
          (click)="cerrarModalExito()"
          class="flex-1 py-3 px-4 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-semibold rounded-lg transition-all duration-200 active:scale-95 shadow-md hover:shadow-lg"
        >
          Entendido
        </button>

        <!-- Botón Volver al Login -->
        <button
          routerLink="/login"
          class="flex-1 py-3 px-4 bg-gray-100 hover:bg-gray-200 text-gray-900 font-semibold rounded-lg transition-all duration-200 active:scale-95"
        >
          Volver
        </button>
      </div>
    </div>
  </div>
</div>